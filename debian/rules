#!/usr/bin/make -f
# -*- makefile -*-

clean:
	# Do nothing

export DH_VERBOSE=1
export DH_OPTIONS

%:
	dh $@ --with python2,python3 --buildsystem=python_distutils

override_dh_usrlocal:
    # skip, was causing errors

override_dh_auto_test:
    # don't run tests

override_dh_strip:
	# No stripping!

override_dh_auto_install:
	make -C ./ clean
	# make -C ./ all PYTHON=python
	python setup.py install --root debian/python-raspberrystem --install-layout=deb
	make -C ./ clean
	# make -C ./ all PYTHON=python3
	python3 setup.py install --root debian/python3-raspberrystem --install-layout=deb

#DEB_PYTHON_SYSTEM := pysupport

##include /usr/share/cdbs/1/rules/debhelper.mk
##include /usr/share/cdbs/1/class/python-distutils.mk

#clean::
#	rm -rf build build-stamp configure-stamp build/ MANIFEST
#	dh_clean
